<!-- 어드민 급여 확인 -->
<!-- 작성자 : 정택준 | 기여자 : 김재겸 -->
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>3부상조 - 메인 페이지</title>
<link href="<c:url value='/resources/css/JeoungTJ/CSS_table.css'/>" rel="stylesheet">
<link href="<c:url value='/resources/css/JeoungTJ/CSS_jungtakejun.css'/>" rel="stylesheet">
<link href="<c:url value='/resources/css/JeoungTJ/Main.css'/>" rel="stylesheet">
<link href="<c:url value='/resources/css/Header.css'/>" rel="stylesheet">
<link href="<c:url value='/resources/css/Footer.css'/>" rel="stylesheet">

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>

<jsp:include page="/resources/jsp/Header.jsp" />
<jsp:include page="/resources/jsp/PayAside.jsp" />

<main style="margin: 80px auto 200px auto;">

    <div id="title">
        <h2>급여 기본 정보 조회 및 수정</h2>
        <p>내용 설명 - 전체 직원 급여 조회 및 수정 (관리자용)</p>
    </div>

    <div>
        <form class="search-form" action="/searchEmployees" method="post">
            <div>
                <label class="employee">검색 기준</label>
                <select class="employee" name="searchType">
                    <option value="">선택</option>
                    <option value="이름">이름</option>
                    <option value="부서">부서</option>
                    <option value="직책">직책</option>
                </select>
            </div>
            <div>
                <input type="text" name="searchKeyword" placeholder="검색">
                <button type="submit">검색</button>
            </div>
        </form>
    </div>

    <div class="admintable">
        <table class="tabletitle">
            <thead>
                <tr>
                    <th></th>
                    <th>직원코드</th>
                    <th>직원명</th>
                    <th>년차</th>
                    <th>직책</th>
                    <th>부서</th>
                    <th>입사일자</th>
                    <th>고용형태</th>
                    <th>급여</th>
                    <th>보너스</th>
                </tr>
            </thead>
            <tbody>
            <c:choose>
					<c:when test="${empty list}">
						<tr>
							<td colspan="9">
								<h3>원하는 정보가 존재하지 않습니다</h3>
							</td>
						</tr>
					</c:when>
                <c:forEach var="emp" items="${employeeList}">
                    <tr>
                        <td><input type="checkbox"></td>
                        <td><c:out value="${emp.id}"/></td>
                        <td><c:out value="${emp.name}"/></td>
                        <td><c:out value="${emp.years}"/></td>
                        <td><c:out value="${emp.position}"/></td>
                        <td><c:out value="${emp.department}"/></td>
                        <td><c:out value="${emp.hireDate}"/></td>
                        <td><c:out value="${emp.employmentType}"/></td>
                        <td><c:out value="${emp.salary}"/></td>
                        <td><c:out value="${emp.bonus}"/></td>
                    </tr>
                </c:forEach>
            </c:choose>
            </tbody>  
        </table>
    </div>

    <div id="but">
        <button>지급하기</button>
        <button>취소</button>
    </div>

</main>

<jsp:include page="/resources/jsp/Footer.jsp" />

<script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    checkboxes.forEach(function(checkbox) {
        checkbox.addEventListener('change', function() {
            if (this.checked) {
                checkboxes.forEach(function(otherCheckbox) {
                    if (otherCheckbox !== checkbox) {
                        otherCheckbox.checked = false;
                    }
                });
            }
        });
    });
});
</script>

</body>
</html>
