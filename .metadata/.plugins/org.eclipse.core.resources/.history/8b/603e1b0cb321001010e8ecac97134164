<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>3부상조 - 메인 페이지</title>
<link href="<c:url value='/resources/css/Main.css'/>" rel="stylesheet">
<link href="<c:url value='/resources/css/Header.css'/>" rel="stylesheet">
<link href="<c:url value='/resources/css/Footer.css'/>" rel="stylesheet">
<link href="<c:url value='/resources/css/Permission.css'/>" rel="stylesheet">
   
</head>
<body>
<jsp:include page="/resources/jsp/Header.jsp" />





<main>
<div style="margin-top: 60px;    align-items: flex-start; /* 가로 가운데 정렬 */">
<h2>권한 부여 페이지</h2>
<p> 권한 부여에 대한 설명</p>
</div>
<div style="width: 1280px; display: flex; justify-content: center;">

<table>
<thead>
<tr><th>분류</th><th>이름</th><th>직급</th><th>직원 정보권한</th><th>근무 방식 권한</th><th>인사발령권한</th><th>급여 권한</th><th>휴가 권한 </th></tr>
</thead>
<tbody>
<c:choose>
<c:when test="${empty userList}">
<td colspan="8" style="text-align: center;">데이터가 없습니다.</td>
</c:when>
<c:otherwise>
        <!-- 데이터가 있는 경우 -->
        <c:forEach var="user" items="${userList}">
            <tr>
                <td>${user.role}</td>
                <td>${user.name}</td>
                <td>${user.position}</td>
                <c:choose>
                    <c:when test="${user.role == '슈퍼 관리자'}">
                        <!-- 슈퍼 관리자: 모든 체크박스 체크 -->
                        <td><input type="checkbox" name="employeeInfo_${user.id}" checked></td>
                        <td><input type="checkbox" name="workType_${user.id}" checked></td>
                        <td><input type="checkbox" name="personnel_${user.id}" checked></td>
                        <td><input type="checkbox" name="payroll_${user.id}" checked></td>
                        <td><input type="checkbox" name="vacation_${user.id}" checked></td>
                    </c:when>
                    <c:otherwise>
                        <!-- 다른 역할: 기본적으로 체크 안 함 -->
                        <td><input type="checkbox" name="employeeInfo_${user.id}"></td>
                        <td><input type="checkbox" name="workType_${user.id}"></td>
                        <td><input type="checkbox" name="personnel_${user.id}"></td>
                        <td><input type="checkbox" name="payroll_${user.id}"></td>
                        <td><input type="checkbox" name="vacation_${user.id}"></td>
                    </c:otherwise>
                </c:choose>
            </tr>
        </c:forEach>
    </c:otherwise>
</c:choose>
</tbody>
</table>
</div>
</main>
  
 
 
 
<!-- Footer -->
<jsp:include page="/resources/jsp/Footer.jsp" />
</body>

</html>